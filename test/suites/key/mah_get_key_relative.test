// major flat key
ASSERT_K(mah_get_key_relative(&KEY(MAJOR_KEY, -5, 5, NOTE(D, -1, MAH_OCTAVE_5), NOTE_K(
    NOTE(B, -1, MAH_OCTAVE_0),
    NOTE(E, -1, MAH_OCTAVE_0),
    NOTE(A, -1, MAH_OCTAVE_0),
    NOTE(D, -1, MAH_OCTAVE_0),
    NOTE(G, -1, MAH_OCTAVE_0)
))), KEY(MINOR_KEY, -5, 5, NOTE(B, -1, MAH_OCTAVE_0), NOTE_K(
    NOTE(B, -1, MAH_OCTAVE_0),
    NOTE(E, -1, MAH_OCTAVE_0),
    NOTE(A, -1, MAH_OCTAVE_0),
    NOTE(D, -1, MAH_OCTAVE_0),
    NOTE(G, -1, MAH_OCTAVE_0)
)));

// minor key F+ case
ASSERT_K(mah_get_key_relative(&KEY(MINOR_KEY, -1, 1, NOTE(D, 0, MAH_OCTAVE_2), NOTE_K(
    NOTE(B, -1, MAH_OCTAVE_0)
))), KEY(MAJOR_KEY, -1, 1, NOTE(F, 0, MAH_OCTAVE_0), NOTE_K(
    NOTE(B, -1, MAH_OCTAVE_0)
)));

// major sharp theoretical key
ASSERT_K(mah_get_key_relative(&KEY(MAJOR_KEY, 14, 7, NOTE(C, 2, MAH_OCTAVE_2), NOTE_K(
    NOTE(F, 2, MAH_OCTAVE_0),
    NOTE(C, 2, MAH_OCTAVE_0),
    NOTE(G, 2, MAH_OCTAVE_0),
    NOTE(D, 2, MAH_OCTAVE_0),
    NOTE(A, 2, MAH_OCTAVE_0),
    NOTE(E, 2, MAH_OCTAVE_0),
    NOTE(B, 2, MAH_OCTAVE_0)
))), KEY(MINOR_KEY, 14, 7, NOTE(A, 2, MAH_OCTAVE_0), NOTE_K(
    NOTE(F, 2, MAH_OCTAVE_0),
    NOTE(C, 2, MAH_OCTAVE_0),
    NOTE(G, 2, MAH_OCTAVE_0),
    NOTE(D, 2, MAH_OCTAVE_0),
    NOTE(A, 2, MAH_OCTAVE_0),
    NOTE(E, 2, MAH_OCTAVE_0),
    NOTE(B, 2, MAH_OCTAVE_0)
)));

// minor flat theoritical key
ASSERT_K(mah_get_key_relative(&KEY(MINOR_KEY, -25, 7, NOTE(F, -3, MAH_OCTAVE_9), NOTE_K(
    NOTE(B, -4, MAH_OCTAVE_0),
    NOTE(E, -4, MAH_OCTAVE_0),
    NOTE(A, -4, MAH_OCTAVE_0),
    NOTE(D, -4, MAH_OCTAVE_0),
    NOTE(G, -3, MAH_OCTAVE_0),
    NOTE(C, -3, MAH_OCTAVE_0),
    NOTE(F, -3, MAH_OCTAVE_0)
))), KEY(MAJOR_KEY, -25, 7, NOTE(A, -4, MAH_OCTAVE_0), NOTE_K(
    NOTE(B, -4, MAH_OCTAVE_0),
    NOTE(E, -4, MAH_OCTAVE_0),
    NOTE(A, -4, MAH_OCTAVE_0),
    NOTE(D, -4, MAH_OCTAVE_0),
    NOTE(G, -3, MAH_OCTAVE_0),
    NOTE(C, -3, MAH_OCTAVE_0),
    NOTE(F, -3, MAH_OCTAVE_0)
)));